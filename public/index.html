<!DOCTYPE html>
<html lang="en" ng-app="ChatApp">
    <head>
        <meta charset="utf-8">
        <title>Chat</title>
        <!-- external libraries !-->
        <script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.5.8/angular.min.js"></script>
        <script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.5.8/angular-animate.min.js"></script>
        <script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.5.8/angular-aria.min.js"></script>
        <script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.5.8/angular-messages.min.js"></script>
        <script src="http://ajax.googleapis.com/ajax/libs/angular_material/1.1.0/angular-material.min.js"></script>
        <script src="https://npmcdn.com/angular-toastr/dist/angular-toastr.tpls.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.8.3/underscore-min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/angularjs-scroll-glue/2.0.7/scrollglue.min.js"> </script>
        <link rel="stylesheet" href="https://npmcdn.com/angular-toastr/dist/angular-toastr.css" />
        <link rel="stylesheet" href="http://ajax.googleapis.com/ajax/libs/angular_material/1.1.0/angular-material.min.css">
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700,400italic">
        <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
        <!-- bundled files !-->
        <script src="js/bundle.js"></script>
    </head>
    <body ng-controller="ChatController">
        <ng-include ng-show="!loggedIn" src="'templates/loginPage.html'"></ng-include>
        <section ng-show="loggedIn">
            <div layout="row" layout-padding>
                <div flex="20">
                    <ng-include src="'templates/sidebar.html'"></ng-include>
                </div>
                <div flex="80">
                    <md-tabs md-dynamic-height md-border-bottom>
                        <md-tab ng-repeat="conversation in currentConversations" label="{{getConversationLabelFromId(conversation.id)}}" md-on-select="clearUnreadMessageCounter(conversation); setSelectedTab($index)">
                            <div layout="column" layout-fill>
                                <div flex>
                                    <ng-include src="'templates/conversation/convHead.html'"></ng-include>
                                </div>
                                <div flex>
                                    <ng-include src="'templates/conversation/convBody.html'"></ng-include>
                                </div>
                            </div>
                        </md-tab>
                    </md-tabs>
                </div>
            </div>
        </section>
        <footer>
            <p ng-show="loggedIn">{{errorText}}<p>
            </footer>
        </body>
    </html>
    